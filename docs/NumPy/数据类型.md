---
title: 数据类型
icon: material/cards-playing-club-outline
comments: true
---

## `np.[type]`类

`np.[type]`是一个类, 由`np.[type]([value])`创建的对象被用来表示标量, `[type]`表明了标量的类型. 

???+ tip "Tip"
    其实, Python自带的`int`也是一个类,由`int`创建的对象也被用来表示标量, `int`表明了标量的类型. 只不过这个`int`类和`np.int_`类的区别很大, 比如由他们所产生的标量对象的属性有很大不同.

???+ example "例子"

    ```
    >>> import numpy as np
    >>> x = np.int8(8)
    >>> type(x)
    <class 'numpy.int8'>
    >>> isinstance(x, np.int8)
    True
    >>> type(np.int8)
    <class 'type'>
    >>> z = 10
    >>> type(z)
    <class 'int'>
    >>> isinstance(z, int)
    True
    ```

???+ tip "Tip"

    在nd数组(向量)中, 为了保持数组元素(标量)的一致性, 我们将数组元素也视为数组, 也就是说由`np.[type]([value])`创建的标量具有和向量相同的属性和方法, 正因为如此, 我们可以称由`np.[type]([value])`创建的标量为"数组标量".

    ???+ example "例子"

        ```
        >>> import numpy as np
        >>> x = np.int8(10)
        >>> x.dtype
        dtype('int8') # 虽然标量x不是向量, 但是仍然具有dtype这个属性
        ```

### 别名类

|名称|C语言中的类型|描述|
|-|-|-|
|`np.int_`|`long`|一般是`np.int32`或`np.int64`(取决于系统是32位还是64位)|
|`np.intc`|`int`|一般是`np.int32`或`np.int64`(取决于系统是32位还是64位)|
|`np.intp`|`ssize_t`|一般是`np.int32`或`np.int64`(取决于系统是32位还是64位)|
|`np.float_`|`double`|`float64`类型的简写|
|`np.complex_`|`double complex`|`complex128`类型的简写|

### 固定类

|名称|C语言中的类型|描述|
|-|-|-|
|`np.bool_`|`bool`|布尔数据类型|
|`np.int8`|`int8_t`|整数 -128 ~ 127|
|`np.int16`|`int16_t`|整数 -32768 ~ 32767|
|`np.int32`|`int32_t`|整数 -2147483648 ~ 2147483647|
|`np.int64`|`int64_t`|整数 -9223372036854775808 ~ 9223372036854775807|
|`np.uint8`|`uint8_t`|无符号整数 0 ~ 255|
|`np.uint16`|`uint16_t`|无符号整数 0 ~ 65535|
|`np.uint32`|`uint32_t`|无符号整数 0 ~ 4294967295|
|`np.uint64`|`uint64_t`|无符号整数 0 ~ 18446744073709551615|
|`np.float16`|无|半精度浮点数, 包括: 1个符号位, 5个指数位, 10个尾数位|
|`np.float32`|`float`|单精度浮点数, 包括: 1个符号位, 8个指数位, 23个尾数位|
|`np.float64`|`double`|双精度浮点数, 包括: 1个符号位, 11个指数位, 52个尾数位|
|`np.complex64`|`float complex`|复数, 表示双32位浮点数(实数部分和虚数部分)|
|`np.complex128`|`double complex`|复数, 表示双64位浮点数(实数部分和虚数部分)|

### 层级

`np.[type]`类有一个层次结构来表示继承关系. 

![层级](https://numpy.org/doc/stable/_images/dtype-hierarchy.png)

???+ example "例子"

    ```
    >>> import numpy as np
    >>> x = np.int8(10)
    >>> isinstance(x, np.generic)
    True
    >>> isinstance(x, np.bool_)
    False
    >>> isinstance(x, np.number)
    True
    ```

## `np.dtype`类

`np.dtype`是一个类, 由`np.dype([dtype])`创建的对象被用来表示固定大内存块中的字节如何被翻译成nd数组中的一个元素. 简单的说, 它用来表示向量中的元素(标量)的类型.

???+ example "例子"

    ```
    >>> import numpy as np
    >>> dt = np.dtype(np.int32)
    >>> data = np.array([1, 2, 3], dtype=dt)
    >>> data
    array([1, 2, 3], dtype=int32)
    >>> data.dtype
    dtype('int32')
    >>> data.dtype.type
    <class 'numpy.int32'>
    ```

???+ warning "注意"

    由`np.[type]`类产生的对象不是`dtype`对象.

    ???+ example "例子"

        ```
        >>> import numpy as np
        >>> x = np.int8(10)
        >>> isinstance(x, np.dtype)
        False
        >>> y = np.dtype(np.int8)
        >>> isinstance(y, np.dtype)
        True
        ``` 

[^1]: NumPy 数据类型 | 菜鸟教程. (n.d.). Retrieved June 20, 2024, from https://www.runoob.com/numpy/numpy-dtype.html
[^2]: Data type objects (dtype)—NumPy v2.0 Manual. (n.d.). Retrieved June 20, 2024, from https://numpy.org/doc/stable/reference/arrays.dtypes.html
[^3]: Scalars—NumPy v2.0 Manual. (n.d.). Retrieved June 20, 2024, from https://numpy.org/doc/stable/reference/arrays.scalars.html