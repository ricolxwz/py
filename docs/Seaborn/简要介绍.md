---
title: 简要介绍
icon: material/cake
comments: false
---

Seaborn是一个绘制统计图形的Python库. 它建立在Matplotlib至上并且和Pandas有很强的联动. Seaborn的绘图函数会操作DF和数组并进行必须的语义映射和统计聚合, 以生成信息丰富的图标. 其面向数据集的声明式API让您专注于图标中不同元素的含义, 而不是绘制它们的细节.

下面是一个简单的例子.

???+ example "例子"

    定义:

    ```py
    import seaborn as sns
    import matplotlib.pyplot as plt

    sns.set_theme()

    tips = sns.load_dataset('tips')
    sns.relplot(
        data=tips,
        x="total_bill",
        y="tip",
        col="time",
        hue="smoker",
        style="smoker",
        size="size"
    )

    plt.show()
    ```

    输出:

    ![](https://img.ricolxwz.io/2024/07/cca4c3866d6d22eff8d3d53c640ae8d3.png){:style="width:680px"}

    解释:

    1. 在幕后, Seaborn用Matplotlib作图
    2. `set_theme`函数调用了Matplotlib的`rcParam`系统并且会影响所有的图(包括使用Matplotlib做的图)
    3. 教程中大部分的代码都使用了`load_dateset`函数接受数据集, 也可以手动使用`read_csv`函数或其他函数导入, Seaborn能够接受的数据类型非常多
    4. 在此代码中, 只提供了变量的名称和其在图中的作用. 不像直接使用Matplotlib时那样, 需要用颜色值或标记代码来指定图标元素的属性. 实际上, Seaborn在幕后处理了从传入的参数到Matplotlib能理解的参数的转换. 这种声明式的写法能够使我们专注于想要回答的问题, 而不是控制Matplotlib的细节
        1. `data=tips`: 指定数据集的来源, `tips`数据集是Seaborn自带的一个示例数据集, 包含餐厅小费的数据
        2. `x="total_bill"`: 指定`total_bill`列作为x轴的数据
        3. `y="tip"`: 指定`tip`作为y轴的数据
        4. `col="time"`: 按照`time`列的值分列(子图). 这个参数会创建两个子图, 一个午餐, 一个晚餐
        5. `hue="smoker"`: 按照`smoker`列的值来着色点
        6. `style="smoker"`: 按照`smoker`列的值来设置点的样式
        7. `size="size"`: 按照`size`列的值来调整点的大小

## 统计图的高阶API

没有最好的数据可视化方法. 不同的问题最好通过不同的图标来回答. Seaborn使用的是一致的面向数据集的API, 使在不同的视觉表示之间切换变得很容易. `relplot`函数用于可视化许多不同的统计关系. 例如, 在上面我们用散点图通常是有效的, 但当一个变量表示的时间时, 用折线图表示更好. `relplot`函数提供了`kind`函数, 方便地在不同的视觉表示之间切换.

???+ example "例子"

    定义:

    ```py
    import seaborn as sns
    import matplotlib.pyplot as plt

    sns.set_theme()

    dots = sns.load_dataset('dots')
    sns.relplot(
        data=dots,
        kind="line",
        x="time",
        y="firing_rate",
        col="align",
        hue="choice",

        size="coherence",
        style="choice",
        facet_kws=dict(sharex=False)
    )

    plt.show()
    ```

    输出:

    ![](https://img.ricolxwz.io/2024/07/9b8acb9e250b3d738200f06e8fe36255.png){:style="width:680px"}

    可以注意到`size`和`style`属性在散点图和折线图中的表现形式是不一样的. 在散点图中, 表现为点的大小和点的样式; 在这线图中, 表现为线宽和线的样式. 我们无需关注这些细节, 只需要关注整体的结构和信息.

